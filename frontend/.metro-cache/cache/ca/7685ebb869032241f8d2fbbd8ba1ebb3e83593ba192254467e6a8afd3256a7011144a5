{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://poultry-manage.preview.emergentagent.com';\n  class ApiService {\n    token = null;\n    setToken(token) {\n      this.token = token;\n    }\n    async request(endpoint, options = {}) {\n      const url = `${BASE_URL}/api${endpoint}`;\n      const headers = Object.assign({\n        'Content-Type': 'application/json'\n      }, options.headers || {});\n      if (this.token) {\n        headers['Authorization'] = `Bearer ${this.token}`;\n      }\n      try {\n        const response = await fetch(url, Object.assign({}, options, {\n          headers\n        }));\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.detail || 'Error en la solicitud');\n        }\n        return data;\n      } catch (error) {\n        if (error.message === 'Network request failed') {\n          throw new Error('Sin conexi√≥n a internet');\n        }\n        throw error;\n      }\n    }\n    async get(endpoint, params) {\n      let url = endpoint;\n      if (params) {\n        const searchParams = new URLSearchParams(params);\n        url = `${endpoint}?${searchParams.toString()}`;\n      }\n      return this.request(url, {\n        method: 'GET'\n      });\n    }\n    async post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    async put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    async delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n  const api = new ApiService();\n});","lineCount":73,"map":[[7,2,71,0,"Object"],[7,8,71,0],[7,9,71,0,"defineProperty"],[7,23,71,0],[7,24,71,0,"exports"],[7,31,71,0],[8,4,71,0,"enumerable"],[8,14,71,0],[9,4,71,0,"get"],[9,7,71,0],[9,18,71,0,"get"],[9,19,71,0],[10,6,71,0],[10,13,71,0,"api"],[10,16,71,0],[11,4,71,0],[12,2,71,0],[13,2,71,36],[13,6,71,36,"_expoVirtualEnv"],[13,21,71,36],[13,24,71,36,"require"],[13,31,71,36],[13,32,71,36,"_dependencyMap"],[13,46,71,36],[14,2,1,0],[14,8,1,6,"BASE_URL"],[14,16,1,14],[14,19,1,17,"_expoVirtualEnv"],[14,34,1,17],[14,35,1,17,"env"],[14,38,1,17],[14,39,1,17,"EXPO_PUBLIC_BACKEND_URL"],[14,62,1,17],[14,66,1,56],[14,116,1,106],[15,2,3,0],[15,8,3,6,"ApiService"],[15,18,3,16],[15,19,3,17],[16,4,4,10,"token"],[16,9,4,15],[16,12,4,33],[16,16,4,37],[17,4,6,2,"setToken"],[17,12,6,10,"setToken"],[17,13,6,11,"token"],[17,18,6,31],[17,20,6,33],[18,6,7,4],[18,10,7,8],[18,11,7,9,"token"],[18,16,7,14],[18,19,7,17,"token"],[18,24,7,22],[19,4,8,2],[20,4,10,2],[20,10,10,16,"request"],[20,17,10,23,"request"],[20,18,10,24,"endpoint"],[20,26,10,40],[20,28,10,42,"options"],[20,35,10,62],[20,38,10,65],[20,39,10,66],[20,40,10,67],[20,42,10,69],[21,6,11,4],[21,12,11,10,"url"],[21,15,11,13],[21,18,11,16],[21,21,11,19,"BASE_URL"],[21,29,11,27],[21,36,11,34,"endpoint"],[21,44,11,42],[21,46,11,44],[22,6,13,4],[22,12,13,10,"headers"],[22,19,13,30],[22,22,13,30,"Object"],[22,28,13,30],[22,29,13,30,"assign"],[22,35,13,30],[23,8,14,6],[23,22,14,20],[23,24,14,22],[24,6,14,40],[24,9,15,10,"options"],[24,16,15,17],[24,17,15,18,"headers"],[24,24,15,25],[24,28,15,29],[24,29,15,30],[24,30,15,31],[24,31,16,5],[25,6,18,4],[25,10,18,8],[25,14,18,12],[25,15,18,13,"token"],[25,20,18,18],[25,22,18,20],[26,8,19,7,"headers"],[26,15,19,14],[26,16,19,42],[26,31,19,57],[26,32,19,58],[26,35,19,61],[26,45,19,71],[26,49,19,75],[26,50,19,76,"token"],[26,55,19,81],[26,57,19,83],[27,6,20,4],[28,6,22,4],[28,10,22,8],[29,8,23,6],[29,14,23,12,"response"],[29,22,23,20],[29,25,23,23],[29,31,23,29,"fetch"],[29,36,23,34],[29,37,23,35,"url"],[29,40,23,38],[29,42,23,38,"Object"],[29,48,23,38],[29,49,23,38,"assign"],[29,55,23,38],[29,60,24,11,"options"],[29,67,24,18],[30,10,25,8,"headers"],[31,8,25,15],[31,10,26,7],[31,11,26,8],[32,8,28,6],[32,14,28,12,"data"],[32,18,28,16],[32,21,28,19],[32,27,28,25,"response"],[32,35,28,33],[32,36,28,34,"json"],[32,40,28,38],[32,41,28,39],[32,42,28,40],[33,8,30,6],[33,12,30,10],[33,13,30,11,"response"],[33,21,30,19],[33,22,30,20,"ok"],[33,24,30,22],[33,26,30,24],[34,10,31,8],[34,16,31,14],[34,20,31,18,"Error"],[34,25,31,23],[34,26,31,24,"data"],[34,30,31,28],[34,31,31,29,"detail"],[34,37,31,35],[34,41,31,39],[34,64,31,62],[34,65,31,63],[35,8,32,6],[36,8,34,6],[36,15,34,13,"data"],[36,19,34,17],[37,6,35,4],[37,7,35,5],[37,8,35,6],[37,15,35,13,"error"],[37,20,35,23],[37,22,35,25],[38,8,36,6],[38,12,36,10,"error"],[38,17,36,15],[38,18,36,16,"message"],[38,25,36,23],[38,30,36,28],[38,54,36,52],[38,56,36,54],[39,10,37,8],[39,16,37,14],[39,20,37,18,"Error"],[39,25,37,23],[39,26,37,24],[39,51,37,49],[39,52,37,50],[40,8,38,6],[41,8,39,6],[41,14,39,12,"error"],[41,19,39,17],[42,6,40,4],[43,4,41,2],[44,4,43,2],[44,10,43,8,"get"],[44,13,43,11,"get"],[44,14,43,12,"endpoint"],[44,22,43,28],[44,24,43,30,"params"],[44,30,43,61],[44,32,43,63],[45,6,44,4],[45,10,44,8,"url"],[45,13,44,11],[45,16,44,14,"endpoint"],[45,24,44,22],[46,6,45,4],[46,10,45,8,"params"],[46,16,45,14],[46,18,45,16],[47,8,46,6],[47,14,46,12,"searchParams"],[47,26,46,24],[47,29,46,27],[47,33,46,31,"URLSearchParams"],[47,48,46,46],[47,49,46,47,"params"],[47,55,46,53],[47,56,46,54],[48,8,47,6,"url"],[48,11,47,9],[48,14,47,12],[48,17,47,15,"endpoint"],[48,25,47,23],[48,29,47,27,"searchParams"],[48,41,47,39],[48,42,47,40,"toString"],[48,50,47,48],[48,51,47,49],[48,52,47,50],[48,54,47,52],[49,6,48,4],[50,6,49,4],[50,13,49,11],[50,17,49,15],[50,18,49,16,"request"],[50,25,49,23],[50,26,49,24,"url"],[50,29,49,27],[50,31,49,29],[51,8,49,31,"method"],[51,14,49,37],[51,16,49,39],[52,6,49,45],[52,7,49,46],[52,8,49,47],[53,4,50,2],[54,4,52,2],[54,10,52,8,"post"],[54,14,52,12,"post"],[54,15,52,13,"endpoint"],[54,23,52,29],[54,25,52,31,"data"],[54,29,52,41],[54,31,52,43],[55,6,53,4],[55,13,53,11],[55,17,53,15],[55,18,53,16,"request"],[55,25,53,23],[55,26,53,24,"endpoint"],[55,34,53,32],[55,36,53,34],[56,8,54,6,"method"],[56,14,54,12],[56,16,54,14],[56,22,54,20],[57,8,55,6,"body"],[57,12,55,10],[57,14,55,12,"data"],[57,18,55,16],[57,21,55,19,"JSON"],[57,25,55,23],[57,26,55,24,"stringify"],[57,35,55,33],[57,36,55,34,"data"],[57,40,55,38],[57,41,55,39],[57,44,55,42,"undefined"],[58,6,56,4],[58,7,56,5],[58,8,56,6],[59,4,57,2],[60,4,59,2],[60,10,59,8,"put"],[60,13,59,11,"put"],[60,14,59,12,"endpoint"],[60,22,59,28],[60,24,59,30,"data"],[60,28,59,40],[60,30,59,42],[61,6,60,4],[61,13,60,11],[61,17,60,15],[61,18,60,16,"request"],[61,25,60,23],[61,26,60,24,"endpoint"],[61,34,60,32],[61,36,60,34],[62,8,61,6,"method"],[62,14,61,12],[62,16,61,14],[62,21,61,19],[63,8,62,6,"body"],[63,12,62,10],[63,14,62,12,"data"],[63,18,62,16],[63,21,62,19,"JSON"],[63,25,62,23],[63,26,62,24,"stringify"],[63,35,62,33],[63,36,62,34,"data"],[63,40,62,38],[63,41,62,39],[63,44,62,42,"undefined"],[64,6,63,4],[64,7,63,5],[64,8,63,6],[65,4,64,2],[66,4,66,2],[66,10,66,8,"delete"],[66,16,66,14,"delete"],[66,17,66,15,"endpoint"],[66,25,66,31],[66,27,66,33],[67,6,67,4],[67,13,67,11],[67,17,67,15],[67,18,67,16,"request"],[67,25,67,23],[67,26,67,24,"endpoint"],[67,34,67,32],[67,36,67,34],[68,8,67,36,"method"],[68,14,67,42],[68,16,67,44],[69,6,67,53],[69,7,67,54],[69,8,67,55],[70,4,68,2],[71,2,69,0],[72,2,71,7],[72,8,71,13,"api"],[72,11,71,16],[72,14,71,19],[72,18,71,23,"ApiService"],[72,28,71,33],[72,29,71,34],[72,30,71,35],[73,0,71,36],[73,3]],"functionMap":{"names":["<global>","ApiService","ApiService#setToken","ApiService#request","ApiService#get","ApiService#post","ApiService#put","ApiService#_delete"],"mappings":"AAA;ACE;ECG;GDE;EEE;GF+B;EGE;GHO;EIE;GJK;EKE;GLK;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}