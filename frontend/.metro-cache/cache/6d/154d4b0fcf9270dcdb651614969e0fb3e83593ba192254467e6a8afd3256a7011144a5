{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"api\", {\n    enumerable: true,\n    get: function () {\n      return api;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  const BASE_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://poultry-manage.preview.emergentagent.com';\n  class ApiService {\n    token = null;\n    setToken(token) {\n      this.token = token;\n    }\n    async request(endpoint, options = {}) {\n      const url = `${BASE_URL}/api${endpoint}`;\n      const headers = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {})\n      };\n      if (this.token) {\n        headers['Authorization'] = `Bearer ${this.token}`;\n      }\n      try {\n        const response = await fetch(url, {\n          ...options,\n          headers\n        });\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.detail || 'Error en la solicitud');\n        }\n        return data;\n      } catch (error) {\n        if (error.message === 'Network request failed') {\n          throw new Error('Sin conexi√≥n a internet');\n        }\n        throw error;\n      }\n    }\n    async get(endpoint, params) {\n      let url = endpoint;\n      if (params) {\n        const searchParams = new URLSearchParams(params);\n        url = `${endpoint}?${searchParams.toString()}`;\n      }\n      return this.request(url, {\n        method: 'GET'\n      });\n    }\n    async post(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'POST',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    async put(endpoint, data) {\n      return this.request(endpoint, {\n        method: 'PUT',\n        body: data ? JSON.stringify(data) : undefined\n      });\n    }\n    async delete(endpoint) {\n      return this.request(endpoint, {\n        method: 'DELETE'\n      });\n    }\n  }\n  const api = new ApiService();\n});","lineCount":75,"map":[[7,2,71,0,"Object"],[7,8,71,0],[7,9,71,0,"defineProperty"],[7,23,71,0],[7,24,71,0,"exports"],[7,31,71,0],[8,4,71,0,"enumerable"],[8,14,71,0],[9,4,71,0,"get"],[9,7,71,0],[9,18,71,0,"get"],[9,19,71,0],[10,6,71,0],[10,13,71,0,"api"],[10,16,71,0],[11,4,71,0],[12,2,71,0],[13,2,71,36],[13,6,71,36,"_expoVirtualEnv"],[13,21,71,36],[13,24,71,36,"require"],[13,31,71,36],[13,32,71,36,"_dependencyMap"],[13,46,71,36],[14,2,1,0],[14,8,1,6,"BASE_URL"],[14,16,1,14],[14,19,1,17,"_expoVirtualEnv"],[14,34,1,17],[14,35,1,17,"env"],[14,38,1,17],[14,39,1,17,"EXPO_PUBLIC_BACKEND_URL"],[14,62,1,17],[14,66,1,56],[14,116,1,106],[15,2,3,0],[15,8,3,6,"ApiService"],[15,18,3,16],[15,19,3,17],[16,4,4,10,"token"],[16,9,4,15],[16,12,4,33],[16,16,4,37],[17,4,6,2,"setToken"],[17,12,6,10,"setToken"],[17,13,6,11,"token"],[17,18,6,31],[17,20,6,33],[18,6,7,4],[18,10,7,8],[18,11,7,9,"token"],[18,16,7,14],[18,19,7,17,"token"],[18,24,7,22],[19,4,8,2],[20,4,10,2],[20,10,10,16,"request"],[20,17,10,23,"request"],[20,18,10,24,"endpoint"],[20,26,10,40],[20,28,10,42,"options"],[20,35,10,62],[20,38,10,65],[20,39,10,66],[20,40,10,67],[20,42,10,69],[21,6,11,4],[21,12,11,10,"url"],[21,15,11,13],[21,18,11,16],[21,21,11,19,"BASE_URL"],[21,29,11,27],[21,36,11,34,"endpoint"],[21,44,11,42],[21,46,11,44],[22,6,13,4],[22,12,13,10,"headers"],[22,19,13,30],[22,22,13,33],[23,8,14,6],[23,22,14,20],[23,24,14,22],[23,42,14,40],[24,8,15,6],[24,12,15,10,"options"],[24,19,15,17],[24,20,15,18,"headers"],[24,27,15,25],[24,31,15,29],[24,32,15,30],[24,33,15,31],[25,6,16,4],[25,7,16,5],[26,6,18,4],[26,10,18,8],[26,14,18,12],[26,15,18,13,"token"],[26,20,18,18],[26,22,18,20],[27,8,19,7,"headers"],[27,15,19,14],[27,16,19,42],[27,31,19,57],[27,32,19,58],[27,35,19,61],[27,45,19,71],[27,49,19,75],[27,50,19,76,"token"],[27,55,19,81],[27,57,19,83],[28,6,20,4],[29,6,22,4],[29,10,22,8],[30,8,23,6],[30,14,23,12,"response"],[30,22,23,20],[30,25,23,23],[30,31,23,29,"fetch"],[30,36,23,34],[30,37,23,35,"url"],[30,40,23,38],[30,42,23,40],[31,10,24,8],[31,13,24,11,"options"],[31,20,24,18],[32,10,25,8,"headers"],[33,8,26,6],[33,9,26,7],[33,10,26,8],[34,8,28,6],[34,14,28,12,"data"],[34,18,28,16],[34,21,28,19],[34,27,28,25,"response"],[34,35,28,33],[34,36,28,34,"json"],[34,40,28,38],[34,41,28,39],[34,42,28,40],[35,8,30,6],[35,12,30,10],[35,13,30,11,"response"],[35,21,30,19],[35,22,30,20,"ok"],[35,24,30,22],[35,26,30,24],[36,10,31,8],[36,16,31,14],[36,20,31,18,"Error"],[36,25,31,23],[36,26,31,24,"data"],[36,30,31,28],[36,31,31,29,"detail"],[36,37,31,35],[36,41,31,39],[36,64,31,62],[36,65,31,63],[37,8,32,6],[38,8,34,6],[38,15,34,13,"data"],[38,19,34,17],[39,6,35,4],[39,7,35,5],[39,8,35,6],[39,15,35,13,"error"],[39,20,35,23],[39,22,35,25],[40,8,36,6],[40,12,36,10,"error"],[40,17,36,15],[40,18,36,16,"message"],[40,25,36,23],[40,30,36,28],[40,54,36,52],[40,56,36,54],[41,10,37,8],[41,16,37,14],[41,20,37,18,"Error"],[41,25,37,23],[41,26,37,24],[41,51,37,49],[41,52,37,50],[42,8,38,6],[43,8,39,6],[43,14,39,12,"error"],[43,19,39,17],[44,6,40,4],[45,4,41,2],[46,4,43,2],[46,10,43,8,"get"],[46,13,43,11,"get"],[46,14,43,12,"endpoint"],[46,22,43,28],[46,24,43,30,"params"],[46,30,43,61],[46,32,43,63],[47,6,44,4],[47,10,44,8,"url"],[47,13,44,11],[47,16,44,14,"endpoint"],[47,24,44,22],[48,6,45,4],[48,10,45,8,"params"],[48,16,45,14],[48,18,45,16],[49,8,46,6],[49,14,46,12,"searchParams"],[49,26,46,24],[49,29,46,27],[49,33,46,31,"URLSearchParams"],[49,48,46,46],[49,49,46,47,"params"],[49,55,46,53],[49,56,46,54],[50,8,47,6,"url"],[50,11,47,9],[50,14,47,12],[50,17,47,15,"endpoint"],[50,25,47,23],[50,29,47,27,"searchParams"],[50,41,47,39],[50,42,47,40,"toString"],[50,50,47,48],[50,51,47,49],[50,52,47,50],[50,54,47,52],[51,6,48,4],[52,6,49,4],[52,13,49,11],[52,17,49,15],[52,18,49,16,"request"],[52,25,49,23],[52,26,49,24,"url"],[52,29,49,27],[52,31,49,29],[53,8,49,31,"method"],[53,14,49,37],[53,16,49,39],[54,6,49,45],[54,7,49,46],[54,8,49,47],[55,4,50,2],[56,4,52,2],[56,10,52,8,"post"],[56,14,52,12,"post"],[56,15,52,13,"endpoint"],[56,23,52,29],[56,25,52,31,"data"],[56,29,52,41],[56,31,52,43],[57,6,53,4],[57,13,53,11],[57,17,53,15],[57,18,53,16,"request"],[57,25,53,23],[57,26,53,24,"endpoint"],[57,34,53,32],[57,36,53,34],[58,8,54,6,"method"],[58,14,54,12],[58,16,54,14],[58,22,54,20],[59,8,55,6,"body"],[59,12,55,10],[59,14,55,12,"data"],[59,18,55,16],[59,21,55,19,"JSON"],[59,25,55,23],[59,26,55,24,"stringify"],[59,35,55,33],[59,36,55,34,"data"],[59,40,55,38],[59,41,55,39],[59,44,55,42,"undefined"],[60,6,56,4],[60,7,56,5],[60,8,56,6],[61,4,57,2],[62,4,59,2],[62,10,59,8,"put"],[62,13,59,11,"put"],[62,14,59,12,"endpoint"],[62,22,59,28],[62,24,59,30,"data"],[62,28,59,40],[62,30,59,42],[63,6,60,4],[63,13,60,11],[63,17,60,15],[63,18,60,16,"request"],[63,25,60,23],[63,26,60,24,"endpoint"],[63,34,60,32],[63,36,60,34],[64,8,61,6,"method"],[64,14,61,12],[64,16,61,14],[64,21,61,19],[65,8,62,6,"body"],[65,12,62,10],[65,14,62,12,"data"],[65,18,62,16],[65,21,62,19,"JSON"],[65,25,62,23],[65,26,62,24,"stringify"],[65,35,62,33],[65,36,62,34,"data"],[65,40,62,38],[65,41,62,39],[65,44,62,42,"undefined"],[66,6,63,4],[66,7,63,5],[66,8,63,6],[67,4,64,2],[68,4,66,2],[68,10,66,8,"delete"],[68,16,66,14,"delete"],[68,17,66,15,"endpoint"],[68,25,66,31],[68,27,66,33],[69,6,67,4],[69,13,67,11],[69,17,67,15],[69,18,67,16,"request"],[69,25,67,23],[69,26,67,24,"endpoint"],[69,34,67,32],[69,36,67,34],[70,8,67,36,"method"],[70,14,67,42],[70,16,67,44],[71,6,67,53],[71,7,67,54],[71,8,67,55],[72,4,68,2],[73,2,69,0],[74,2,71,7],[74,8,71,13,"api"],[74,11,71,16],[74,14,71,19],[74,18,71,23,"ApiService"],[74,28,71,33],[74,29,71,34],[74,30,71,35],[75,0,71,36],[75,3]],"functionMap":{"names":["<global>","ApiService","ApiService#setToken","ApiService#request","ApiService#get","ApiService#post","ApiService#put","ApiService#_delete"],"mappings":"AAA;ACE;ECG;GDE;EEE;GF+B;EGE;GHO;EIE;GJK;EKE;GLK;EME;GNE;CDC"},"hasCjsExports":false},"type":"js/module"}]}